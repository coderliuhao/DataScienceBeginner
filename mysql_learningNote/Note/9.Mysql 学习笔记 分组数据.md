### Mysql 学习笔记 分组数据

1、**group by**操作符，在需要分组计算聚集函数时使用。注意：

​         （1）**group by**可以包含任意数目的列，实现分组嵌套

​         （2）嵌套分组时，无法通过其中一个列访问数据，必须使用全部的列进行访问

​         （3）**group by** 子句列出的或是**select**中的检索列，或者是**select**中的相同表达式，但不能是聚集函数表达式。

​         （4）除聚集函数，**select**的每个列都必须在**group by**中给出

​         （5）分组列中有NULL值时，所有的NULL值的行将被分为一组返回

​         （6）**group by** 出现在**where**子句之后且**order by**子句之前。 

​         （7）**group by** 返回的分组结果通常按分组顺序给出，并非依据分组计算的聚合函数值来排序。

  

  2、**group by** 子句中使用 **with rollup** 关键字可以返回每个分组结果以及各组的汇总。

  3、**having** 操作符：进行组级别的过滤。**having**支持所有**where**子句中过滤数据的技术，句法相同，关键字有差别。

  4、**having** 和**where**区别：**having**是分组之后再过滤，**where**是分组之前过滤。

  5、**group by** 和**order by**的区别：

​             （1）**group by** 只可能使用**select**选择的每个列或者非聚集函数的表达式列，**order by** 可以是**select**中的任何列，也可以是非选择的列。

​             （2）**group by**有表达式必须使用表达式，**order by**不一定。 

  6、**select**子句顺序：

​             **select**             要返回的列或表达式          必须使用

​             **from**               从中检索数据的表             仅在需要检索数据时使用

​             **where**             行级别的过滤                    非必须

​             **group by**        分组说明                            仅在按组计算聚集函数时使用    

​             **having**            组级别的过滤                     非必须

​             **order by**         输出排序结果                     非必须

​             **limit**                 检索行数                            非必须