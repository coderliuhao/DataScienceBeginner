### Mysql 学习笔记 创建高级联结

1、为简化sql语句，以及重复使用某个表，应该为表创建别名。

2、自联结，表与表自身的联结。通过不同的别名加以区别，在**select**时，需要使用完全限定名，以区分列来自哪个表，这里选择来自某表的列后，在**where**子句的过滤操作时，需要选择另一个表的列过滤。 举例：表tab,包含列col1,col2,关联列col，创建自联结:

​                          **select**   t1.col1,  t1.col2

​                          **from**  tab **as**  t1,  tab **as** t2

​                          **where**  t1.col  =  t2.col

​                          **and**     t2.col1  =   val ;

​     一旦确定了选择的表和列，在进行行过滤时需要选择另外一个表的列，即选择列的表与**where**按行过滤时使用的表总是不同的。

3、通配符*，选择全部的列。在自然联结时通常使用 星号来避免检测到重复列。

4、**outer join** 外部联结操作符，与**inner join**对应，都需要使用**on**配合使用。外部联结的返回结果可能包含不能与**on**子句的等值条件匹配的行。**outer join**在使用时必须在前面指定**right**或**left** 关键字，指明哪张表需要使用全部行。沿用前面的例子：

​                      **select**  t1.col1,  t2.col2

​                      **from**  tab1  **as**  t1  **left  outer join**  tab2  **as**   t2

​                      **on** t1.col  =  t2.col ;

​    **outer join**前面使用**left**,意味着从tab1选取所有行，如果是**right**将从tab2选取所有行。



5、外部联结和内部联结时可以使用聚集函数配合**group by**操作符的形式。**select**中指定一个聚集函数创建计算字段，**from**   **inner/outer  join** 创建联结,**on**子句等值条件联结，在最后使用**group by** 子句 分组。

6、tips: 

​      一般使用内部联结，外部联结也有效
​      保证使用正确的联结条件，否则返回不正确的数据
​      总是提供联结条件，避免出现笛卡尔积
​	  一个联结可以包含多个表，每个联结可以使用不同的联结类型。

